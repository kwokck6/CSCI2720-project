{% extends "base.html" %}

{% block title %}Log in{% endblock %}
{% block content %}
<div class="bg-light rounded p-3 mb-3">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                {% if category != 'message' %}
                <div class="alert {{ 'alert-' + category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% else %}
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endif %}
            {% endfor %}
        {% endif %}
    {% endwith %}
    <div>
        <h3 align="center"><strong>Log in</strong></h3>
        <form id="login" method="post">
            <div class="form-group mb-2">
                <label for="username">Username:&nbsp;</label>
                <input id="username" name="userName"/>
            </div>
            <div class="form-group mb-2">
                <label for="password">Password:&nbsp;</label>
                <input id="password" type="password" pattern="[A-Za-z!@#$%^_-+=]{8,}" name="password"/>
                <button id="forgot-pw" name="forgetPw" class="btn btn-link btn-sm text-decoration-none" role="button">Forget password?</button>
            </div>
            <br>
            <button id="login-btn" class="btn btn-primary" type="submit">Log in</button>
        </form>
    </div>
</div>
{% endblock %}